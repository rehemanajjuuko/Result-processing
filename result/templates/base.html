<!DOCTYPE html>
<html lang="en">
{% load static %}
<head>
  <meta charset="utf-8" />
  <title>{% block title %}School Dashboard{% endblock %}</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!-- AdminLTE CSS -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/admin-lte@3.2/dist/css/adminlte.min.css">

  <!-- Bootstrap Icons -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.css">

  <!-- OverlayScrollbars -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/overlayscrollbars@2.11.0/styles/overlayscrollbars.min.css">

  <!-- Custom CSS -->
  <link rel="stylesheet" href="{% static 'css/custom.css' %}">

  {% block extra_css %}{% endblock %}
</head>

<body class="hold-transition sidebar-mini layout-fixed">
<div class="wrapper">

  <!-- Navbar -->
  <nav class="main-header navbar navbar-expand navbar-white navbar-light">
    <ul class="navbar-nav">
      <li class="nav-item">
        <a class="nav-link" data-widget="pushmenu" href="#"><i class="bi bi-list"></i></a>
      </li>
      <li class="nav-item d-none d-sm-inline-block">
        <a href="{% url 'index_page' %}" class="nav-link">Home</a>
      </li>
    </ul>

    <ul class="navbar-nav ml-auto">
      {% if messages %}
        {% for message in messages %}
          <li class="nav-item">
            <div class="alert alert-{{ message.tags }} alert-dismissible fade show m-0" role="alert">
              {{ message }}
              <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
            </div>
          </li>
        {% endfor %}
      {% endif %}

      {% if request.user.is_authenticated %}
        <li class="nav-item">
          <span class="nav-link">Welcome, {{ request.user.username }}</span>
        </li>
        <li class="nav-item">
          <form method="post" action="{% url 'logout' %}">
            {% csrf_token %}
            <button type="submit" class="btn btn-link nav-link" style="padding:0;">
              <i class="bi bi-box-arrow-right"></i> Logout
            </button>
          </form>
        </li>
      {% else %}
        <li class="nav-item">
          <a href="{% url 'login' %}" class="nav-link">Login</a>
        </li>
        <li class="nav-item">
          <a href="{% url 'sign_up_page' %}" class="nav-link">Sign Up</a>
        </li>
      {% endif %}
    </ul>
  </nav>

  <!-- Sidebar -->
  <aside class="main-sidebar sidebar-dark-primary elevation-4">
    <!-- Brand Logo with your custom logo -->
    <a href="{% url 'index_page' %}" class="brand-link">
      <img src="{% static 'img/school_logo.png' %}" alt="School Logo"
           class="brand-image img-circle elevation-3" style="opacity:.9; width:40px; height:40px;">
      <span class="brand-text font-weight-light">School System</span>
    </a>

    <!-- Sidebar Menu -->
    <div class="sidebar">
      <nav class="mt-2">
        <ul class="nav nav-pills nav-sidebar flex-column" role="menu">

          <li class="nav-item">
            <a href="{% url 'add_academic_class_page' %}" class="nav-link">
              <i class="nav-icon bi bi-mortarboard"></i><p>Academic Class</p>
            </a>
          </li>
          <li class="nav-item">
            <a href="{% url 'add_class_page' %}" class="nav-link">
              <i class="nav-icon bi bi-building"></i><p>Classes</p>
            </a>
          </li>
          <li class="nav-item">
            <a href="{% url 'add_subject_page' %}" class="nav-link">
              <i class="nav-icon bi bi-book"></i><p>Subjects</p>
            </a>
          </li>
          <li class="nav-item">
            <a href="{% url 'add_student_page' %}" class="nav-link">
              <i class="nav-icon bi bi-person-badge"></i><p>Students</p>
            </a>
          </li>
          <li class="nav-item">
            <a href="{% url 'add_guardian_page' %}" class="nav-link">
              <i class="nav-icon bi bi-people"></i><p>Guardians</p>
            </a>
          </li>
          <li class="nav-item">
            <a href="{% url 'add_grading_page' %}" class="nav-link">
              <i class="nav-icon bi bi-bar-chart"></i><p>Grading</p>
            </a>
          </li>
          <li class="nav-item">
            <a href="{% url 'add_exam_page' %}" class="nav-link">
              <i class="nav-icon bi bi-pencil-square"></i><p>Exams</p>
            </a>
          </li>
          <li class="nav-item">
            <a href="{% url 'add_result_page' %}" class="nav-link">
              <i class="nav-icon bi bi-clipboard-data"></i><p>Results</p>
            </a>
          </li>

        </ul>
      </nav>
    </div>
  </aside>

  <!-- Content Wrapper -->
  <div class="content-wrapper p-3">
    {% block content %}
    {% endblock %}
  </div>

  <!-- Footer -->
  <footer class="main-footer text-center py-2">
    <strong>&copy; {{ year }} School Result System.</strong> All rights reserved.
  </footer>
</div>

<!-- Scripts -->
<script src="https://cdn.jsdelivr.net/npm/jquery@3.6.4/dist/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/admin-lte@3.2/dist/js/adminlte.min.js"></script>
{% block extra_js %}{% endblock %}
</body>
</html>
